/*
 * jQuery insertAtCaret
 * Allows inserting text where the caret is in a textarea
 * Copyright (c) 2003-2010 phpMyAdmin devel team
 * Version: 1.0
 * Developed by the phpMyAdmin devel team. Modified by Alex King and variaas
 * http://alexking.org/blog/2003/06/02/inserting-at-the-cursor-using-javascript
 * http://www.mail-archive.com/jquery-en@googlegroups.com/msg08708.html
 * Licensed under the GPL license:
 * http://www.gnu.org/licenses/gpl.html
 */
(function(a){a.fn.insertAtCaret=function(b){return this.each(function(){if(document.selection){this.focus();sel=document.selection.createRange();sel.text=b;this.focus();}else{if(this.selectionStart||this.selectionStart=="0"){var d=this.selectionStart;var c=this.selectionEnd;var e=this.scrollTop;this.value=this.value.substring(0,d)+b+this.value.substring(c,this.value.length);this.focus();this.selectionStart=d+b.length;this.selectionEnd=d+b.length;this.scrollTop=e;}else{this.value+=b;this.focus();}}});};})(jQuery);